<html>
<title>Add Faculty</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
	<script src="https://www.gstatic.com/firebasejs/5.7.0/firebase.js"></script>
	<script>
	  // Initialize Firebase
	  // TODO: Replace with your project's customized code snippet
	  var config = {
		apiKey: "AIzaSyDEwCY2i3JBh_co1iFqaJg4mhFU5hHW-oQ",
		authDomain: "facultyinfo-46200.firebaseapp.com",
		databaseURL: "https://facultyinfo-46200.firebaseio.com",
		projectId: "facultyinfo-46200",
		storageBucket: "facultyinfo-46200.appspot.com",
	  };
	  firebase.initializeApp(config);
	</script>
	<body>
	
		<div class="w3-container w3-card-4 w3-light-grey w3-text-blue w3-margin">
			<h2 class="w3-center">Create New Faculty</h2>
		 
			<div class="w3-row w3-section">
			  <div class="w3-col" style="width:50px"><i class="w3-xxlarge fa fa-user"></i></div>
				<div class="w3-rest">
				  <input class="w3-input w3-border" id="faculty_name" name="faculty_name" type="text" placeholder="Enter Faculty's Name*">
				  <span id="faculty_name_error" name="faculty_name_error" style="color:red;display:none;">*Name can't be empty</span>
				</div>
			</div>
			
			<div class="w3-row w3-section">
			  <div class="w3-col" style="width:50px"><i class="w3-xxlarge fa fa-star"></i></div>
				<div class="w3-rest">
					<select class="w3-select w3-border" id="faculty_designation" name="faculty_designation">
						<option value="0" disabled selected>Please select a designation*</option>
						<option value="Professor">Professor</option>
						<option value="Associate Professor">Associate Professor</option>
						<option value="Sr. Assistant Professor">Sr. Assistant Professor</option>
						<option value="Assistant Professor">Assistant Professor</option>
						<option value="Lecturer">Lecturer</option>
						<option value="Instructor">Instructor</option>
						<option value="Teaching Assistant">Teaching Assistant</option>
					</select>
					<span id="faculty_designation_error" name="faculty_designation_error" style="color:red;display:none;">*Designation is required</span>
				</div>
			</div>
			
			<div class="w3-row w3-section">
			  <div class="w3-col" style="width:50px"><i class="w3-xxlarge fa fa-building"></i></div>
				<div class="w3-rest">
					<select class="w3-select w3-border" id="faculty_department" name="faculty_department">
						<option value="0" disabled selected>Please select a department*</option>
						<option value="FASS">FASS</option>
						<option value="FBA">FBA</option>
						<option value="FE">FE</option>
						<option value="FSIT">FSIT</option>
					</select>
					<span id="faculty_department_error" name="faculty_department_error" style="color:red;display:none;">*Department is required</span>
				</div>
			</div>

			<div class="w3-row w3-section">
			  <div class="w3-col" style="width:50px"><i class="w3-xxlarge fa fa-phone"></i></div>
				<div class="w3-rest">
					<input class="w3-input w3-border" id="faculty_phone" name="faculty_phone" type="phone" placeholder="Enter phone number">
					<span id="faculty_phone_error" name="faculty_phone_error" style="color:red;display:none;">*Invalid phone number</span>
				</div>
			</div>

			<div class="w3-row w3-section">
			  <div class="w3-col" style="width:50px"><i class="w3-xxlarge fa fa-envelope-o"></i></div>
				<div class="w3-rest">
					<input class="w3-input w3-border" id="faculty_email" name="faculty_email" type="email" placeholder="Enter an email address*">
					<span id="faculty_email_format_error" name="faculty_email_format_error" style="color:red;display:none;">*Email must ends with "@aiub.edu"</span>
					<span id="faculty_email_empty_error" name="faculty_email_empty_error" style="color:red;display:none;">*Email is  required</span>
					<span id="faculty_email_invalid_error" name="faculty_email_invalid_error" style="color:red;display:none;">*Invalid email address</span>
				</div>
			</div>

			<div class="w3-row w3-section">
			  <div class="w3-col" style="width:50px"><i class="w3-xxlarge fa fa-map-marker"></i></div>
				<div class="w3-rest">
					<input class="w3-input w3-border" id="faculty_desk" name="faculty_desk" type="number" placeholder="Enter a desk*">
					<span id="faculty_desk_error" name="faculty_desk_error" style="color:red;display:none;">*Desk is  required</span>
				</div>
			</div>

			<button class="w3-button w3-block w3-section w3-orange w3-text-white w3-round w3-ripple w3-padding" onclick="resetData()" >Reset</button>
			<button class="w3-button w3-block w3-section w3-blue w3-round w3-ripple w3-padding" onclick="submitData()" >Send</button>

		</div>


	</body>
	
	<script>
		function resetData() {
			
			faculty_name = document.getElementById('faculty_name').value = "";
			faculty_designation = document.getElementById('faculty_designation').value = "0";
			faculty_department = document.getElementById('faculty_department').value = "0";
			faculty_phone = document.getElementById('faculty_phone').value = "";
			faculty_email = document.getElementById('faculty_email').value = "";
			faculty_desk = document.getElementById('faculty_desk').value = "";
			
			document.getElementById('faculty_name_error').style.display = "none";
			document.getElementById('faculty_designation_error').style.display = "none";
			document.getElementById('faculty_department_error').style.display = "none";
			document.getElementById('faculty_phone_error').style.display = "none";
			document.getElementById('faculty_email_empty_error').style.display = "none";
			document.getElementById('faculty_email_invalid_error').style.display = "none";			
			document.getElementById('faculty_email_format_error').style.display = "none";
			document.getElementById('faculty_desk_error').style.display = "none";
		}
	
		function submitData(){
			
			var faculty_name = document.getElementById('faculty_name').value;
			var faculty_designation = document.getElementById('faculty_designation').value;
			var faculty_department = document.getElementById('faculty_department').value;
			var faculty_phone = document.getElementById('faculty_phone').value;
			var faculty_email = document.getElementById('faculty_email').value;
			var faculty_desk = document.getElementById('faculty_desk').value;
			
			var flag = true;
			
			if(faculty_name===''){
				flag = false;
				document.getElementById('faculty_name_error').style.display = "block";
			} else{
				flag = true;
				document.getElementById('faculty_name_error').style.display = "none";
			}
			
			if(faculty_designation==='0'){
				flag = false;
				document.getElementById('faculty_designation_error').style.display = "block";
			} else{
				flag = true;
				document.getElementById('faculty_designation_error').style.display = "none";
			}			
			
			if(faculty_department==='0'){
				flag = false;
				document.getElementById('faculty_department_error').style.display = "block";
			} else{
				flag = true;
				document.getElementById('faculty_department_error').style.display = "none";
			}		
			
			if(faculty_phone===''){
				flag = true;
				document.getElementById('faculty_phone_error').style.display = "none";
			} else{
				if(faculty_phone.length==11 || faculty_phone.length==14) {
					flag = true;
					document.getElementById('faculty_phone_error').style.display = "none";
				} else {
					flag = false;
					document.getElementById('faculty_phone_error').style.display = "block";
				}				
			}
			
			if(faculty_email===''){
				flag = true;
				document.getElementById('faculty_email_empty_error').style.display = "block";
				document.getElementById('faculty_email_invalid_error').style.display = "none";			
				document.getElementById('faculty_email_format_error').style.display = "none";
			} else{
				if(faculty_email.match(/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/)) {
					if(faculty_email.endsWith("@aiub.edu")){					
						flag = true;
						document.getElementById('faculty_email_format_error').style.display = "none";
						document.getElementById('faculty_email_empty_error').style.display = "none";
						document.getElementById('faculty_email_invalid_error').style.display = "none";
					} else {				
						flag = false;
						document.getElementById('faculty_email_format_error').style.display = "block";
						document.getElementById('faculty_email_empty_error').style.display = "none";
						document.getElementById('faculty_email_invalid_error').style.display = "none";
					}
				} else {
					flag = false;
					document.getElementById('faculty_email_format_error').style.display = "none";
					document.getElementById('faculty_email_empty_error').style.display = "none";
					document.getElementById('faculty_email_invalid_error').style.display = "block";
				}				
			}			
			
			if(faculty_desk===''){
				flag = false;
				document.getElementById('faculty_desk_error').style.display = "block";
			} else{
				flag = true;
				document.getElementById('faculty_desk_error').style.display = "none";
			}	
			
			if(flag) {
				var reference =  firebase.database().ref().child('faculties');
				var ID = reference.push().key;
				
				var newData={
					department : faculty_department,
					designation : faculty_designation,
					desk : faculty_desk,
					email : faculty_email,
					id : ID,
					image : "",
					name : faculty_name,
					password : "",
					phone : faculty_phone,
					status : "Unavailable"
				}
				reference.push(newData);
				
				alert("Faculty Inserted successfully");
				
				resetData();
			}
		}
	</script>
</html
